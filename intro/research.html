

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Research &#8212; Dataset 0.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Model zoo" href="model_zoo.html" />
    <link rel="prev" title="Tensorflow layers and losses" href="tf_layers.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="model_zoo.html" title="Model zoo"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tf_layers.html" title="Tensorflow layers and losses"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Dataset 0.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="classes.html" accesskey="U">Classes and capabilities</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Research</a><ul>
<li><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#parallel-runnings">Parallel runnings</a></li>
<li><a class="reference internal" href="#another-way-of-parallel-running">Another way of parallel running</a></li>
<li><a class="reference internal" href="#dumping-of-results-and-logging">Dumping of results and logging</a></li>
<li><a class="reference internal" href="#functions-on-root">Functions on root</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tf_layers.html"
                        title="previous chapter">Tensorflow layers and losses</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="model_zoo.html"
                        title="next chapter">Model zoo</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/intro/research.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="research">
<h1>Research<a class="headerlink" href="#research" title="Permalink to this headline">¶</a></h1>
<p>Research class is intended for multiple running of the same pipelines with different parameters in order to get some metrics value.</p>
<div class="section" id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>Let’s compare <cite>VGG7</cite> and <cite>VGG16</cite> performance on <cite>MNIST</cite> dataset with different layouts of convolutional blocks. For each combination of layout and model class, we train model for 1000 iterations and repeat that process 10 times and save accuracy and loss on train and accuracy on test.</p>
<p>Firstly, import classes from <cite>dataset</cite> to create pipelines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataset</span> <span class="kn">import</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">Config</span>
<span class="kn">from</span> <span class="nn">dataset.opensets</span> <span class="kn">import</span> <span class="n">MNIST</span>
<span class="kn">from</span> <span class="nn">dataset.models.tf</span> <span class="kn">import</span> <span class="n">VGG7</span><span class="p">,</span> <span class="n">VGG16</span>
</pre></div>
</div>
<p>Define model config. All parameters that we want to vary we define as <code class="docutils literal notranslate"><span class="pre">C('parameter_name')</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model_config</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;session/config&#39;</span><span class="p">:</span> <span class="n">tf</span><span class="o">.</span><span class="n">ConfigProto</span><span class="p">(</span><span class="n">allow_soft_placement</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="s1">&#39;inputs&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">images</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">)},</span>
                   <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;classes&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;transform&#39;</span><span class="p">:</span> <span class="s1">&#39;ohe&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;targets&#39;</span><span class="p">}),</span>
    <span class="s1">&#39;input_block/inputs&#39;</span><span class="p">:</span> <span class="s1">&#39;images&#39;</span><span class="p">,</span>
    <span class="s1">&#39;body/block/layout&#39;</span><span class="p">:</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;layout&#39;</span><span class="p">),</span>
    <span class="s1">&#39;output/ops&#39;</span><span class="p">:</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">,</span>
    <span class="s1">&#39;device&#39;</span><span class="p">:</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;device&#39;</span><span class="p">)</span> <span class="c1"># it&#39;s technical parameter for TFModel</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Strictly saying, the whole <code class="docutils literal notranslate"><span class="pre">model_config</span></code> with different <code class="docutils literal notranslate"><span class="pre">'model_config/body/block/layout'</span></code> is a pipeline parameter but due to a substitution rule of named expressions you can define named expression inside of <cite>dict</cite> or <cite>Config</cite> that is used as action parameter (See <a class="reference internal" href="named_expr.html"><span class="doc">Named expressions</span></a>).</p>
<p>Define dataset and train pipeline:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mnist</span> <span class="o">=</span> <span class="n">MNIST</span><span class="p">()</span>

<span class="n">feed_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;images&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">),</span>
             <span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;labels&#39;</span><span class="p">)}</span>

<span class="n">train_ppl</span> <span class="o">=</span> <span class="p">(</span><span class="n">mnist</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">p</span>
             <span class="o">.</span><span class="n">init_variable</span><span class="p">(</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="n">init_on_each_run</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
             <span class="o">.</span><span class="n">init_variable</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">init_on_each_run</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
             <span class="o">.</span><span class="n">init_model</span><span class="p">(</span><span class="s1">&#39;dynamic&#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">),</span> <span class="s1">&#39;conv&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">model_config</span><span class="p">)</span>
             <span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
             <span class="o">.</span><span class="n">train_model</span><span class="p">(</span><span class="s1">&#39;conv&#39;</span><span class="p">,</span>
                          <span class="n">fetches</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="s1">&#39;output_accuracy&#39;</span><span class="p">],</span>
                          <span class="n">feed_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;images&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">),</span> <span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;labels&#39;</span><span class="p">)},</span>
                          <span class="n">save_to</span><span class="o">=</span><span class="p">[</span><span class="n">V</span><span class="p">(</span><span class="s1">&#39;loss&#39;</span><span class="p">),</span> <span class="n">V</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
             <span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">n_epochs</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="p">)</span>
</pre></div>
</div>
<p>Action parameters that we want to vary we define as <code class="docutils literal notranslate"><span class="pre">C('model_class')</span></code>. Note that to specify parameters of batch generating
<code class="docutils literal notranslate"><span class="pre">run</span></code> action must be defined with <code class="docutils literal notranslate"><span class="pre">lazy=True</span></code>.</p>
<p>Create an instance of <cite>Research</cite> class and add train pipeline:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span> <span class="o">=</span> <span class="n">Research</span><span class="p">()</span>
<span class="n">research</span><span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">train_ppl</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Parameter <code class="docutils literal notranslate"><span class="pre">name</span></code> defines pipeline name inside <code class="docutils literal notranslate"><span class="pre">research</span></code>. At each iteration that pipeline will be executed with <code class="docutils literal notranslate"><span class="pre">.next_batch()</span></code> and all <code class="docutils literal notranslate"><span class="pre">variables</span></code> from the pipeline will be saved so that variables must be added with <code class="docutils literal notranslate"><span class="pre">mode='w'</span></code>.</p>
<p>All parameter combinations we define through the dict where a key is a parameter name and value is a list of possible parameter values.
Create a grid of parameters and add to <code class="docutils literal notranslate"><span class="pre">research</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grid_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;model_class&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">VGG7</span><span class="p">,</span> <span class="n">VGG16</span><span class="p">],</span> <span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;cna&#39;</span><span class="p">,</span> <span class="s1">&#39;can&#39;</span><span class="p">]}</span>
<span class="n">research</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid_config</span><span class="p">)</span>
</pre></div>
</div>
<p>You can get all variants of config by <code class="docutils literal notranslate"><span class="pre">list(grid.gen_configs())</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ConfigAlias</span><span class="p">({</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;cna&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG7&#39;</span><span class="p">}),</span>
 <span class="n">ConfigAlias</span><span class="p">({</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;cna&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG16&#39;</span><span class="p">}),</span>
 <span class="n">ConfigAlias</span><span class="p">({</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;can&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG7&#39;</span><span class="p">}),</span>
 <span class="n">ConfigAlias</span><span class="p">({</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;can&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG16&#39;</span><span class="p">})]</span>
</pre></div>
</div>
<p>Each element is a ConfigAlias. It’s a Config dict of parameter values and dict with aliases for parameter values.</p>
<p>In order to control test accuracy we create test pipeline and add it to <code class="docutils literal notranslate"><span class="pre">research</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">test_ppl</span> <span class="o">=</span> <span class="p">(</span><span class="n">mnist</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">p</span>
            <span class="o">.</span><span class="n">init_variable</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">init_on_each_run</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
            <span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="s1">&#39;conv&#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;import_from&#39;</span><span class="p">))</span>
            <span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
            <span class="o">.</span><span class="n">predict_model</span><span class="p">(</span><span class="s1">&#39;conv&#39;</span><span class="p">,</span>
                           <span class="n">fetches</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;output_accuracy&#39;</span><span class="p">],</span>
                           <span class="n">feed_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;images&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">),</span> <span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;labels&#39;</span><span class="p">)},</span>
                           <span class="n">save_to</span><span class="o">=</span><span class="p">[</span><span class="n">V</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">n_epochs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="p">)</span>

<span class="n">research</span><span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">test_ppl</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">import_model</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>That pipeline will be executed with <code class="docutils literal notranslate"><span class="pre">.run()</span></code> each 100 iterations because of parameters <code class="docutils literal notranslate"><span class="pre">run=True</span></code>  and <code class="docutils literal notranslate"><span class="pre">execute='%100'</span></code>. Pipeline variable <code class="docutils literal notranslate"><span class="pre">accuracy</span></code> will be saved after each execution. In order to add a mean value of accuracy on the whole test dataset, you can define a function</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_accuracy</span><span class="p">(</span><span class="n">iteration</span><span class="p">,</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">experiment</span><span class="p">[</span><span class="n">pipeline</span><span class="p">]</span><span class="o">.</span><span class="n">pipeline</span>
    <span class="n">acc</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_variable</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">acc</span><span class="p">)</span>
</pre></div>
</div>
<p>and then add it into research:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">get_accuracy</span><span class="p">,</span> <span class="n">returns</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_accuracy&#39;</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>That function will get iteration, experiment, args and kwargs (in that case it’s <code class="docutils literal notranslate"><span class="pre">pipeline='test'&quot;</span></code>).</p>
<p>Experiment is an OrderedDict for all pipelines and functions that were added to Research and are running in current job. Key is a name of ExecutableUnit (class for function and pipeline), value is ExecutableUnit. Each pipeline and function added to Research is saved as an ExecutableUnit. Each ExecutableUnit has the following attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="p">:</span> <span class="n">callable</span>
    <span class="ow">is</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">ExecutableUnit</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">pipeline</span>
<span class="n">pipeline</span> <span class="p">:</span> <span class="n">Pipeline</span>
    <span class="ow">is</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">ExecutableUnit</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">function</span>
<span class="n">root_pipeline</span> <span class="p">:</span> <span class="n">Pipeline</span>
    <span class="ow">is</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">ExecutableUnit</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">function</span> <span class="ow">or</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">divided</span> <span class="n">into</span> <span class="n">root</span> <span class="ow">and</span> <span class="n">branch</span>
<span class="n">result</span> <span class="p">:</span> <span class="nb">dict</span>
    <span class="n">current</span> <span class="n">results</span> <span class="n">of</span> <span class="n">the</span> <span class="n">ExecutableUnit</span><span class="o">.</span> <span class="n">Keys</span> <span class="n">are</span> <span class="n">names</span> <span class="n">of</span> <span class="n">variables</span> <span class="p">(</span><span class="k">for</span> <span class="n">pipeline</span><span class="p">)</span>
    <span class="ow">or</span> <span class="n">returns</span> <span class="p">(</span><span class="k">for</span> <span class="n">function</span><span class="p">)</span> <span class="n">values</span> <span class="n">are</span> <span class="n">lists</span> <span class="n">of</span> <span class="n">variable</span> <span class="n">values</span>
<span class="n">path</span> <span class="p">:</span> <span class="nb">str</span>
    <span class="n">path</span> <span class="n">to</span> <span class="n">the</span> <span class="n">folder</span> <span class="n">where</span> <span class="n">results</span> <span class="n">will</span> <span class="n">be</span> <span class="n">dumped</span>
<span class="n">exec_for</span> <span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">ints</span> <span class="ow">or</span> <span class="kc">None</span>
<span class="n">dump_for</span> <span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">ints</span> <span class="ow">or</span> <span class="kc">None</span>
<span class="n">to_run</span> <span class="p">:</span> <span class="nb">bool</span>
<span class="n">variables</span> <span class="p">:</span> <span class="nb">list</span>
    <span class="n">variables</span> <span class="p">(</span><span class="k">for</span> <span class="n">pipeline</span><span class="p">)</span> <span class="ow">or</span> <span class="n">returns</span> <span class="p">(</span><span class="k">for</span> <span class="n">function</span><span class="p">)</span>
<span class="n">on_root</span> <span class="p">:</span> <span class="nb">bool</span>
<span class="n">args</span> <span class="p">:</span> <span class="nb">list</span>
<span class="n">kwargs</span> <span class="p">:</span> <span class="nb">dict</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that we use <code class="docutils literal notranslate"><span class="pre">C('import_model')</span></code> in <code class="docutils literal notranslate"><span class="pre">import_model</span></code> action and add test pipeline with parameter <code class="docutils literal notranslate"><span class="pre">import_model='train'</span></code>.
All <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> in <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> are used to define parameters that depend on another pipeline in the same way.</p>
<p>Method <code class="docutils literal notranslate"><span class="pre">run</span></code> starts computations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">n_reps</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">n_iters</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_research&#39;</span><span class="p">,</span> <span class="n">progress_bar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>All results will be saved as <code class="docutils literal notranslate"><span class="pre">{research_name}/results/{config_alias}/{repetition_index}/{unitname}_{iteration}</span></code> as pickled dict (by dill) where keys are variable names and values are lists of corresponding values.</p>
</div>
<div class="section" id="parallel-runnings">
<h2>Parallel runnings<a class="headerlink" href="#parallel-runnings" title="Permalink to this headline">¶</a></h2>
<p>If you have a lot of gpus (say, 4) you can do research much more faster, just define <code class="docutils literal notranslate"><span class="pre">workers=4</span></code> and <code class="docutils literal notranslate"><span class="pre">gpu</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code> as a list of available devices. In that case you can run 4 jobs in parallel!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">n_reps</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">n_iters</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_research&#39;</span><span class="p">,</span> <span class="n">progress_bar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>In that case, two workers will execute tasks in different processes on different GPU.</p>
</div>
<div class="section" id="another-way-of-parallel-running">
<h2>Another way of parallel running<a class="headerlink" href="#another-way-of-parallel-running" title="Permalink to this headline">¶</a></h2>
<p>If you have heavy loading you can do it just one time for few pipelines with models. In that case devide pipelines into root and branch:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mnist</span> <span class="o">=</span> <span class="n">MNIST</span><span class="p">()</span>
<span class="n">train_root</span> <span class="o">=</span> <span class="n">mnist</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">n_epochs</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">train_branch</span> <span class="o">=</span> <span class="p">(</span><span class="n">Pipeline</span><span class="p">()</span>
            <span class="o">.</span><span class="n">init_variable</span><span class="p">(</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="n">init_on_each_run</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
            <span class="o">.</span><span class="n">init_variable</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">init_on_each_run</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
            <span class="o">.</span><span class="n">init_model</span><span class="p">(</span><span class="s1">&#39;dynamic&#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">),</span> <span class="s1">&#39;conv&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">model_config</span><span class="p">)</span>
            <span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
            <span class="o">.</span><span class="n">train_model</span><span class="p">(</span><span class="s1">&#39;conv&#39;</span><span class="p">,</span>
                         <span class="n">fetches</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="s1">&#39;output_accuracy&#39;</span><span class="p">],</span>
                         <span class="n">feed_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;images&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">),</span> <span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;labels&#39;</span><span class="p">)},</span>
                         <span class="n">save_to</span><span class="o">=</span><span class="p">[</span><span class="n">V</span><span class="p">(</span><span class="s1">&#39;loss&#39;</span><span class="p">),</span> <span class="n">V</span><span class="p">(</span><span class="s1">&#39;accuracy&#39;</span><span class="p">)],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Then define research in the following way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span> <span class="o">=</span> <span class="p">(</span><span class="n">Research</span><span class="p">()</span>
    <span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">train_root</span><span class="p">,</span> <span class="n">branch</span><span class="o">=</span><span class="n">train_branch</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">test_ppl</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">import_model</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
    <span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">get_accuracy</span><span class="p">,</span> <span class="n">returns</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_accuracy&#39;</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>And now you can define the number of branches in each worker:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">n_reps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_iters</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">branches</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_research&#39;</span><span class="p">,</span> <span class="n">progress_bar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="dumping-of-results-and-logging">
<h2>Dumping of results and logging<a class="headerlink" href="#dumping-of-results-and-logging" title="Permalink to this headline">¶</a></h2>
<p>By default if unit has varaibles or returns then results will be dumped at last iteration. But there is unit parameter dump that allows to save result not only in the end. It defines as execute parameter. For example, dump train results each 200 iterations. Besides, each research has log file. In order to add information about unit execution and dumping into log, define <code class="docutils literal notranslate"><span class="pre">logging=True</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span> <span class="o">=</span> <span class="p">(</span><span class="n">Research</span><span class="p">()</span>
    <span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">train_root</span><span class="p">,</span> <span class="n">branch</span><span class="o">=</span><span class="n">train_template</span><span class="p">,</span>
              <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="n">dump</span><span class="o">=</span><span class="s1">&#39;%200&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">test_ppl</span><span class="p">,</span>
              <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">import_from</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="n">logging</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
    <span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">get_accuracy</span><span class="p">,</span> <span class="n">returns</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_accuracy&#39;</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">research</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">n_reps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_iters</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">branches</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_research&#39;</span><span class="p">,</span> <span class="n">progress_bar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>First worker will execute two branches on gpu 0 and 1 and the second on the 2 and 3.</p>
</div>
<div class="section" id="functions-on-root">
<h2>Functions on root<a class="headerlink" href="#functions-on-root" title="Permalink to this headline">¶</a></h2>
<p>All functions and pipelines if branches &gt; 0 executed in parallel threads so sometime it can be a problem. In order to allow run function in main thread there exists parameter on_root. Function that will be added with on_root=True will get iteration, experiments and kwargs. experiments is a list of experiments that was defined above (OrderedDict of ExecutableUnits). Simple example of usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_root</span><span class="p">(</span><span class="n">iteration</span><span class="p">,</span> <span class="n">experiments</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;On root&quot;</span><span class="p">,</span> <span class="n">iteration</span><span class="p">)</span>

<span class="n">research</span> <span class="o">=</span> <span class="p">(</span><span class="n">Research</span><span class="p">()</span>
    <span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">on_root</span><span class="p">,</span> <span class="n">on_root</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">logging</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">train_root</span><span class="p">,</span> <span class="n">branch</span><span class="o">=</span><span class="n">train_template</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;loss&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">test_root</span><span class="p">,</span> <span class="n">branch</span><span class="o">=</span><span class="n">test_template</span><span class="p">,</span>
              <span class="n">variables</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">import_from</span><span class="o">=</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="n">logging</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
    <span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">get_accuracy</span><span class="p">,</span> <span class="n">returns</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_accuracy&#39;</span><span class="p">,</span> <span class="n">execute</span><span class="o">=</span><span class="s1">&#39;%100&#39;</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>That function will be executed just one time on 10 iteration and will be executed one time for all branches in task.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">research</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">n_reps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_iters</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">branches</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_research&#39;</span><span class="p">,</span> <span class="n">progress_bar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Logfile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="mi">496</span><span class="p">]</span> <span class="n">Distributor</span> <span class="p">[</span><span class="nb">id</span><span class="p">:</span><span class="mi">5176</span><span class="p">]</span> <span class="ow">is</span> <span class="n">preparing</span> <span class="n">workers</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="mi">497</span><span class="p">]</span> <span class="n">Create</span> <span class="n">queue</span> <span class="n">of</span> <span class="n">jobs</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="mi">511</span><span class="p">]</span> <span class="n">Run</span> <span class="mi">2</span> <span class="n">workers</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="mi">608</span><span class="p">]</span> <span class="n">Start</span> <span class="n">Worker</span> <span class="mi">0</span> <span class="p">[</span><span class="nb">id</span><span class="p">:</span><span class="mi">26021</span><span class="p">]</span> <span class="p">(</span><span class="n">gpu</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="mi">709</span><span class="p">]</span> <span class="n">Start</span> <span class="n">Worker</span> <span class="mi">1</span> <span class="p">[</span><span class="nb">id</span><span class="p">:</span><span class="mi">26022</span><span class="p">]</span> <span class="p">(</span><span class="n">gpu</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">41</span><span class="p">,</span><span class="mi">722</span><span class="p">]</span> <span class="n">Worker</span> <span class="mi">0</span> <span class="ow">is</span> <span class="n">creating</span> <span class="n">process</span> <span class="k">for</span> <span class="n">Job</span> <span class="mi">0</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">49</span><span class="p">,</span><span class="mi">254</span><span class="p">]</span> <span class="n">Worker</span> <span class="mi">1</span> <span class="ow">is</span> <span class="n">creating</span> <span class="n">process</span> <span class="k">for</span> <span class="n">Job</span> <span class="mi">1</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">53</span><span class="p">,</span><span class="mi">101</span><span class="p">]</span> <span class="n">Job</span> <span class="mi">0</span> <span class="n">was</span> <span class="n">started</span> <span class="ow">in</span> <span class="n">subprocess</span> <span class="p">[</span><span class="nb">id</span><span class="p">:</span><span class="mi">26082</span><span class="p">]</span> <span class="n">by</span> <span class="n">Worker</span> <span class="mi">0</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">53</span><span class="p">,</span><span class="mi">118</span><span class="p">]</span> <span class="n">Job</span> <span class="mi">0</span> <span class="n">has</span> <span class="n">the</span> <span class="n">following</span> <span class="n">configs</span><span class="p">:</span>
<span class="p">{</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;cna&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG7&#39;</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;cna&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG16&#39;</span><span class="p">}</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">59</span><span class="p">,</span><span class="mi">267</span><span class="p">]</span> <span class="n">Job</span> <span class="mi">1</span> <span class="n">was</span> <span class="n">started</span> <span class="ow">in</span> <span class="n">subprocess</span> <span class="p">[</span><span class="nb">id</span><span class="p">:</span><span class="mi">26130</span><span class="p">]</span> <span class="n">by</span> <span class="n">Worker</span> <span class="mi">1</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">59</span><span class="p">,</span><span class="mi">281</span><span class="p">]</span> <span class="n">Job</span> <span class="mi">1</span> <span class="n">has</span> <span class="n">the</span> <span class="n">following</span> <span class="n">configs</span><span class="p">:</span>
<span class="p">{</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;can&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG7&#39;</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="s1">&#39;can&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;VGG16&#39;</span><span class="p">}</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">02</span><span class="p">,</span><span class="mi">415</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">11</span><span class="p">:</span> <span class="n">on</span> <span class="n">root</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">02</span><span class="p">,</span><span class="mi">415</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">11</span><span class="p">:</span> <span class="n">on</span> <span class="n">root</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">07</span><span class="p">,</span><span class="mi">803</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">07</span><span class="p">,</span><span class="mi">803</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">761</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">11</span><span class="p">:</span> <span class="n">on</span> <span class="n">root</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">761</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">11</span><span class="p">:</span> <span class="n">on</span> <span class="n">root</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="mi">050</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">execute</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="mi">051</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">execute</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="mi">051</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="mi">051</span><span class="p">]</span> <span class="n">J</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="mi">056</span><span class="p">]</span> <span class="n">Job</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">26082</span><span class="p">]</span> <span class="n">was</span> <span class="n">finished</span> <span class="n">by</span> <span class="n">Worker</span> <span class="mi">0</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span><span class="mi">149</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span><span class="mi">149</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;unit_0&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">819</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">execute</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">819</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">execute</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">820</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">820</span><span class="p">]</span> <span class="n">J</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">I</span> <span class="mi">100</span><span class="p">:</span> <span class="n">dump</span> <span class="s1">&#39;test&#39;</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">825</span><span class="p">]</span> <span class="n">Job</span> <span class="mi">1</span> <span class="p">[</span><span class="mi">26130</span><span class="p">]</span> <span class="n">was</span> <span class="n">finished</span> <span class="n">by</span> <span class="n">Worker</span> <span class="mi">1</span>
<span class="n">INFO</span>     <span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">15</span> <span class="mi">14</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">837</span><span class="p">]</span> <span class="n">All</span> <span class="n">workers</span> <span class="n">have</span> <span class="n">finished</span> <span class="n">the</span> <span class="n">work</span>
</pre></div>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="../api/dataset.research.html"><span class="doc">Research API</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="model_zoo.html" title="Model zoo"
             >next</a> |</li>
        <li class="right" >
          <a href="tf_layers.html" title="Tensorflow layers and losses"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Dataset 0.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="classes.html" >Classes and capabilities</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Analysis Center.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>